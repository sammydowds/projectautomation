{% extends "projects/base.html" %}

{% block title %}
    Acieta: Active Projects
{% endblock %}

{% block main %}
<div class="container-fluid justify-content-center">

<div class="jumbotron text-center bg-white">
  <h1 class="display-4">Active Projects</h1>
  <hr class="my-4">
  <p class="lead">All Active Projects Listed Below</p>
</div>
    <table class="table main-table">
      <thead style="font-size: 12px;" class="thead">
        <tr>
          <th style="width: 3px;"></th>
          <th style="color: #ff4c4c;">#</th>
          <th>Project Info</th>
          <th>Next Milestone</th>
          <th>Deadline</th>
          <th>Status</th>
          <th colspan="10">Milestones</th>
        </tr>
      </thead>
      <tbody>
        {% for project in projects %}
          <tr>
            {% if project.Status == 'offtrack' %}
              <td style="width: 3px; background-color: #ff8454; vertical-align:middle"></td>
            {%elif project.Status == 'onwatch' %}
              <td style="width: 3px; background-color: #ffc966; vertical-align:middle"></td>
            {%else%}
              <td style="width: 3px; background-color: #7ec47d; vertical-align:middle"></td>

            {%endif%}
            <td style="text-align: left; vertical-align:middle">{{project.projectnumber}}</td>
            <td class="container;">{{project.projectname}}
              <!-- <p><div style="vertical-align: bottom;" class="progress">
                  <div class="progress-bar bg-primary" role="progressbar" style="width: {{project.progress}}%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">{{project.progress}}%</div>
                  </div>
              </p> -->
            </td>
            <td>{{project.current_milestone.name}}
              <p></p>
              <p></p>
              <div style="vertical-align: bottom;" class="progress">
                <div class="progress-bar bg-primary" role="progressbar" style="width: {{project.current_phase.progress}}% ;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">{{project.current_phase.progress}}%</div>
              </div></td>
            <td>in {{project.current_milestone.days_until}} Days</td>
            <td style="white-space:nowrap;">{{project.get_Status_display}}
              <div class="dropdown">
                <p></p>
                <button class="btn-sm btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Update
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                  <a class="dropdown-item" href="#">Off-Track</a>
                  <a class="dropdown-item" href="#">On-Watch</a>
                  <a class="dropdown-item" href="#">On-Hold</a>
                  <a class="dropdown-item" href="#">Update</a>
                </div>

            </td>
            {% if project.mechanicalreleasecomplete %}
              <td class="milestoneval" style="background-color: #2E8B57; vertical-align:middle"><a class="cellheader">ME Release</a><br>{{project.Mechanical_Release}}</td>
            {%else%}
              <td class="milestoneval" style="vertical-align:middle"><a class="cellheader">ME Release</a><br><br>{{project.Mechanical_Release}}</td>
            {% endif %}
            <td class="milestoneval" style="vertical-align:middle"><a class="cellheader">EE Release</a><br><br>{{project.Electrical_Release}}</td>
            <td class="milestoneval" style="vertical-align:middle"><a class="cellheader">Paint</a><br><br>{{project.Finishing}}</td>
            <td class="milestoneval" style="vertical-align:middle"><a class="cellheader">Assembly</a><br><br>{{project.Assembly}}</td>
            <td class="milestoneval" style="vertical-align:middle"><a class="cellheader">Int. Runoff</a><br><br>{{project.Internal_Runoff}}</td>
            <td class="milestoneval" style="vertical-align:middle"><a class="cellheader">Cust. Runoff</a><br><br>{{project.Customer_Runoff}}</td>
            <td class="milestoneval" style="vertical-align:middle"><a class="cellheader">Ship</a><br><br>{{project.Ship}}</td>
            <td class="milestoneval" style="vertical-align:middle"><a class="cellheader">Install Strt</a><br><br>{{project.Install_Start}}</td>
            <td class="milestoneval" style="vertical-align:middle"><a class="cellheader">Install Fin</a><br><br>{{project.Install_Finish}}</td>
            <td class="milestoneval" style="vertical-align:middle"><a class="cellheader">Docu.</a><br><br>{{project.Documentation}}</td>
          </tr>
        {%endfor%}
      </tbody>
    </table>
  </div>




{% endblock %}
